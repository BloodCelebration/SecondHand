package com.zml.shsite.services;

import java.io.File;

import javax.annotation.Resource;
import javax.servlet.ServletContext;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.multipart.MultipartFile;

import com.zml.shsite.components.FileComponentUtil;

public class FileServiceImpl implements IFileService {
	@Autowired
	private FileComponentUtil fileComponentUtil=null;
	@Resource  
	private ServletContext servletContext;   
	
	@Override
	public boolean saveUserImage(MultipartFile file, int userId) {
		return fileComponentUtil.fileSave(getRealFilePath(HEADPORTRAITS), file,String.valueOf(userId));
	}

	@Override
	public boolean saveGoodImage(MultipartFile file, int goodId) {
		
		return false;
	}

	@Override
	public boolean saveOrUpdateUserImage(MultipartFile file, int userId) {
		// TODO Auto-generated method stub
		return false;
	}

	@Override
	public boolean saveOrUpdateGoodImage(MultipartFile file, String goodImageUrl) {
		// TODO Auto-generated method stub
		return false;
	}

	@Override
	public boolean deleteUserImage(int userId) {
		// TODO Auto-generated method stub
		return false;
	}

	@Override
	public boolean deleteGoodImage(String goodImageUrl) {
		// TODO Auto-generated method stub
		return false;
	}

	private String getRootWebDir(){
		return servletContext.getRealPath("/");
	}
	private String getRealFilePath(String relaPath){
		String root=getRootWebDir();
		return String.format("%s//%s", root,relaPath);
	}
}
